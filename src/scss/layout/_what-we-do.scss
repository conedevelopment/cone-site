@use 'sprucecss/scss/spruce' as *;

.l-what-we-do {
  $this: &;

  padding-block: get-css-variable(--section-gap);

  &--secondary {
    padding-block: 0;

    #{$this}__inner {
      background-color: color('secondary');
      border-radius: config('border-radius-lg', $display);
      padding: spacer-clamp('m', 'xl');
    }
  }

  &__inner {
    display: flex;
    flex-direction: column;

    > .testimonial-card:not(:first-child):not(:last-child) {
      border-block: 0;
      border-radius: 0;
    }

    > .testimonial-card:first-child {
      border-end-end-radius: 0;
      border-end-start-radius: 0;
    }

    > .testimonial-card:last-child {
      border-start-end-radius: 0;
      border-start-start-radius: 0;
    }

    @include breakpoint('md') {
      flex-direction: row;

      > .testimonial-card:not(:first-child):not(:last-child) {
        border: 1px solid color('border');
        border-inline: 0;
        border-radius: 0;
      }
      /* stylelint-disable */
      > .testimonial-card:first-child {
        border-radius: config('border-radius-lg', $display);
        border-end-end-radius: 0;
        border-start-end-radius: 0;
      }

      > .testimonial-card:last-child {
        border-radius: config('border-radius-lg', $display);
        border-end-start-radius: 0;
        border-start-start-radius: 0;
      }
      /* stylelint-enable */
    }
  }
}
